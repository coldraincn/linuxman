# linux系统管理

## 进程管理

### 查看系统中的所有进程

```shell
ps aux
```

或者

```shell
ps -le
```

### 查看系统健康状态

```shell
top [选项]
```

* -d 秒数：每个几秒更新，默认是3秒

在top命令的交互模式中可以执行的命令：

* ?或h：显示交互模式帮助
* P：以cpu使用率排序
* M：以内存使用率排序
* N：以PID排序
* q：推出

### 查看进程树

```shell
pstree [选项]
```

* -p:显示进程的pid
* -u：显示进程的所属用户

### kill

|信号代号|信号名称|说明|
|:--:|:--|---|
|1|SIGHUP|该信号让进程立即关闭，然后重新读取配置文件之后重启|
|2|SIGINT|程序终止信号，用于终止前台进程。相当于输出ctrl+c快捷 键|
|8|SIGFPE|在发生致命的算术运算错误时发出. 不仅包括浮点运算错误, 还包括溢出及除数为0等其它所有的算术的错误。 |
|9|SIGKILL|用来立即结束程序的运行. 本信号不能被阻塞、处理和忽略。 一般用于强制终止进程|
|14|SIGALRM|时钟定时信号, 计算的是实际的时间或时钟时间. alarm函数 使用该信号|
|15|SIGTERM|正常结束进程的信号，kill命令的默认信号。有时如果进程已 经发生问题，这个信号是无法正常终止进程的，我们才会尝 试SIGKILL信号，也就是信号9|
|18|SIGCONT|该信号可以让暂停的进程恢复执行，本信号不能被阻断|
|19|SIGSTOP|该信号可以暂停前台进程，相当于输入ctrl+z快捷键。本信号 不能被阻断|

### killall

```shell
killall [选项][信号] 进程名
```

* -i :交互
* -I：忽略进程名大小写

### pkill

```shell
pkill [选项][信号] 进程名
```

* -t 终端号：按照终端号踢出用户

## 系统资源

### 监控系统资源

```shell
vmstat [刷新延时] [刷新次数]
```

### 开机时内核检测信息

```shell
dmesg
```

### 内存使用状态

```shell
free [-b|-k|-m|-g]
```

### cpu信息

```shell
cat /proc/cpuinfo
```

### uptime

>显示系统的启动时间和平均负载，top命令的第一行，w命令也可以

### 查看系统与内核相关的信息

```shell
uname [选项]
```

* -a：查看系统所有的相关信息
* -r：查看内核版本
* -s：查看内核名称

### 判断当前系统的位数

```shell
file /bin/ls
```

### 查看当前linux系统的发行版本

```shell
lsb_release -a
```

### 列出进程打开或使用的文件信息

```shell
lsof [选项]
```

* -c 字符串：列出以字符串开头的进程打开的文件
* -u 用户名：列出某个用户的进程打开的文件
* -p pid：列出某个pid进程打开的文件

## 系统定时任务

### 打开

```shell
service crond restart
```

### 设置

```shell
crontab [选项]
```

* -e:编辑定时任务
* -l：查询任务
* -r：删除当前用户所有的任务
  